(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120,553],{29036:function(e,t,r){var a=r(85246),n=r(62034),l=r(36060),u=r(93746),i=r(56974),o=l(function(e,t){var r=i(t);return u(r)&&(r=void 0),u(e)?a(e,n(t,1,u,!0),void 0,r):[]});e.exports=o},19335:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[[...slug]]",function(){return r(15456)}])},15456:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return eg},default:function(){return eh}});var a=r(52322),n=r(2784),l=r(3255),u=r(18892),i=r(68329),o=r(33558),s=r(24621);let c=()=>{let{query:e}=(0,i.Z)(),{slug:t}=e,r=(0,s.rv)(t),{subtype:n}=(0,o.Z)(),{data:c}=(0,l.ZP)(r);return(0,a.jsx)(u.Z,{slug:r,data:c,subtype:n})};var d=r(5632),v=r(36562),f=r(58674),g=r(17188),h=r(84950),Z=r(1280);let m=()=>{let{subtype:e}=(0,o.Z)(),{query:t}=(0,d.useRouter)(),{slug:r}=t,u=(0,s.rv)(r),{data:i}=(0,l.ZP)(u),c=(0,n.useMemo)(()=>{switch(e){case Z.Gu.Episode:return v.Z;case Z.Gu.Brand:case Z.Gu.Series:return f.Z}},[e]),m=(0,n.useRef)(null),p=(0,n.useRef)(!1),[b,k]=(0,h.Z)("AudioPage");return(0,n.useEffect)(()=>{k&&("group4"===b||"group5"===b||"group6"===b)&&!p.current&&m.current&&(m.current.requestAd(),p.current=!0)},[b]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{type:"top",deferRequest:!0,forwardedAdRef:m}),(0,a.jsx)(c,{...i})]})};var p=r(19832),b=r.n(p),k=r(25237),x=r.n(k),w=r(44729),_=r(43100);let P=e=>(0,w.qC)(e?e(0,null):null)[0],S=Promise.resolve(),y=e=>(t,r,a)=>{let l;let u=(0,n.useRef)(!1),{cache:i,initialSize:o=1,revalidateAll:s=!1,persistSize:c=!1,revalidateFirstPage:d=!0,revalidateOnMount:v=!1,parallel:f=!1}=a;try{(l=P(t))&&(l="$inf$"+l)}catch(e){}let[g,h,Z]=(0,w.JN)(i,l),m=(0,n.useCallback)(()=>{let e=(0,w.o8)(g()._l)?o:g()._l;return e},[i,l,o]);(0,_.useSyncExternalStore)((0,n.useCallback)(e=>l?Z(l,()=>{e()}):()=>{},[i,l]),m,m);let p=(0,n.useCallback)(()=>{let e=g()._l;return(0,w.o8)(e)?o:e},[l,o]),b=(0,n.useRef)(p());(0,w.LI)(()=>{if(!u.current){u.current=!0;return}l&&h({_l:c?b.current:p()})},[l,i]);let k=v&&!u.current,x=e(l,async e=>{let n=g()._i,l=[],u=p(),[o]=(0,w.JN)(i,e),c=o().data,v=[],Z=null;for(let e=0;e<u;++e){let[u,o]=(0,w.qC)(t(e,f?null:Z));if(!u)break;let[g,h]=(0,w.JN)(i,u),m=g().data,p=s||n||(0,w.o8)(m)||d&&!e&&!(0,w.o8)(c)||k||c&&!(0,w.o8)(c[e])&&!a.compare(c[e],m);if(r&&p){let t=async()=>{h({data:m=await r(o),_k:o}),l[e]=m};f?v.push(t):await t()}else l[e]=m;f||(Z=m)}return f&&await Promise.all(v.map(e=>e())),h({_i:w.i_}),l},a),y=(0,n.useCallback)(function(e,t){let r="boolean"==typeof t?{revalidate:t}:t||{},a=!1!==r.revalidate;return l?(a&&((0,w.o8)(e)?h({_i:!0}):h({_i:!1})),arguments.length?x.mutate(e,{...r,revalidate:a}):x.mutate()):S},[l,i]),N=(0,n.useCallback)(e=>{let r;if(!l)return S;let[,a]=(0,w.JN)(i,l);if((0,w.mf)(e)?r=e(p()):"number"==typeof e&&(r=e),"number"!=typeof r)return S;a({_l:r}),b.current=r;let n=[],[u]=(0,w.JN)(i,l),o=null;for(let e=0;e<r;++e){let[r]=(0,w.qC)(t(e,o)),[a]=(0,w.JN)(i,r),l=r?a().data:w.i_;if((0,w.o8)(l))return y(u().data);n.push(l),o=l}return y(n)},[l,i,y,p]);return{size:p(),setSize:N,mutate:y,get data(){return x.data},get error(){return x.error},get isValidating(){return x.isValidating},get isLoading(){return x.isLoading}}},N=(0,w.xD)(l.ZP,y);var j=r(38787),C=r(1824),E=r(19032),T=r(60496),z=r(45074),A=r(77531),R=r(34151),q=r(91697);let J={revalidateFirstPage:!1,revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1},O={populateCache:!0,revalidate:!1,rollbackOnError:!0};var G=r(29036),I=r.n(G);let F=(e,t)=>{if(t&&!t.data.length)return null;let r=b()(null==t?void 0:t.data.length,0);return["bookmarks",0,r+9]},L=(e,t)=>e.reduce((e,r)=>{let a=I()(b()(null==r?void 0:r.data,[]),e,(e,t)=>e.id===t.id);return[...e,...a].filter(e=>{let{id:r}=e;return!t.includes(r)})},[]),B=x()(()=>Promise.all([r.e(351),r.e(763)]).then(r.bind(r,92763)).then(e=>{let{SavedItemsPage:t}=e;return t}),{loadableGenerated:{webpack:()=>[92763]},ssr:!1}),V=()=>{let e=(0,T.Z)("new-navigation"),{addError:t}=(0,z.Z)(),{isAuthenticated:r,isAccessTokenExpired:l,accessTokenRefreshUrl:u,isBookmarkingEnabled:o,isFollowBrandEnabled:c}=(0,A.Z)(),{query:d}=(0,i.Z)(),{slug:v}=d,f=(0,s.rv)(v),[g,h]=(0,n.useState)([]),[m,p]=(0,n.useState)(!1),k=(0,n.useCallback)(async e=>{try{return r&&o?await (0,q.oE)(e,l,u):null}catch(e){p(!0)}},[o,r,l,u]),{data:x=[],isLoading:w,setSize:_,mutate:P}=N(F,k,J),S=L(x,g),y=!!r&&function(e){let[{data:{length:t=0}={},total:r=0}={}]=e.reverse();return t<r}(x),G=()=>_(e=>e+1),I=(e,r)=>P(async a=>{let n=a.map(t=>{let{data:r,total:a,...n}=t;return{...n,data:r.filter(t=>{let{id:r}=t;return r!==e}),total:a-1}});try{let{contentType:t,subtype:a=Z.Gu.News}=r,i=["audio","brand","episode","radio"].includes(t);await (0,q.kY)("remove","bookmark",e,l,u,i,a),h(t=>[...t,e]);let o=n.reduce((e,t)=>e+b()(null==t?void 0:t.data.length,0),0);return 1===o&&y&&await G(),n}catch(e){return t("We could not remove this at the moment, try again or come back later."),a}},O),V={title:"Saved",mainNavigation:[],isInverseTitle:!1};return!m&&(o||c)?(0,a.jsxs)(R.Z,{value:{content:S,hasMore:y,isLoading:w,onLoadMore:G,onRemoveItem:I},children:[e?(0,a.jsx)(C.Z,{isPreCurated:!1,slug:v,isBookmarksPage:!0,...V}):(0,a.jsx)(E.Z,{slugArray:f,...V}),(0,a.jsx)(B,{})]}):(0,a.jsx)(j.Z,{})},$=()=>(0,a.jsx)(j.Z,{});var D=r(66615),H=r(81350),M=r(69320),X=r(79760);let Y=async e=>{await (0,X.Z)("form",{method:"POST",body:JSON.stringify(e),isLegacyApiEnabled:!0})},U=x()(()=>Promise.all([r.e(351),r.e(763)]).then(r.bind(r,92763)).then(e=>{let{FeedbackForm:t}=e;return t}),{loadableGenerated:{webpack:()=>[92763]}}),W={"contact-form":[U,Y]},K=()=>{let{query:e}=(0,i.Z)(),{slug:t}=e,r=(0,s.rv)(t),{data:n}=(0,l.ZP)(r),{data:u=[]}=(0,l.ZP)("mainNavigation"),{worldNewsData:o,worldNewsServiceId:c,worldNewsTvPath:d}=(0,H.Z)(),{title:v,sections:f,hideBannerAdvert:g,isPreCurated:h}=n;return(0,a.jsx)(M.Z,{value:W,children:(0,a.jsx)(D.Z,{isPreCurated:h,slug:r,title:v,sections:f,mainNavigation:u,worldNewsTvPath:d,worldNewsData:o,worldNewsServiceId:c,hideBannerAdvert:g})})};var Q=r(5989),ee=r(16415);let et=()=>{let{query:{slug:e}}=(0,i.Z)(),t=(0,s.rv)(e),{data:r}=(0,l.ZP)(t),{searchText:n,setSearchText:u,onSearchClick:o}=(0,ee.Z)();return(0,a.jsx)(Q.Z,{recentStories:r,onSearch:o,searchText:n,onSearchTextChange:u})};var er=r(54073),ea=r.n(er),en=r(83181),el=r(44822);let eu=()=>{var e;let[t,r]=(0,n.useState)(""),[l,u]=(0,n.useState)(""),{query:o,push:s}=(0,i.Z)(),{page:c="0",q:d}=o,v=(0,el.Z)({terms:null===(e=l||d)||void 0===e?void 0:e.toString(),page:null==c?void 0:c.toString()}),f=ea()(async e=>await s((0,el.Z)({q:e})),500);return(0,n.useEffect)(()=>{r(d),u(d)},[d]),(0,a.jsx)(en.Z,{searchText:t||"",searchUrl:v,submittedSearchText:l,onSearch:f,onSearchTextChange:r})},ei={[Z.zc.Article]:c,[Z.zc.Audio]:m,[Z.zc.BookmarksPage]:V,[Z.zc.FiveHundredPage]:$,[Z.zc.IndexPage]:K,[Z.zc.NotFoundPage]:et,[Z.zc.SearchPage]:eu,[Z.zc.TopicPage]:K,[Z.zc.Video]:c},eo=(0,n.createContext)(ei),{Provider:es}=eo,ec=()=>(0,n.useContext)(eo);var ed=r(71474),ev=r(7730);let ef=e=>{var t;let{analytics:r,metadata:n,page:u,type:i,subtype:o,isUkHeader:s,browser:c,os:d,isAuthenticated:v,isAccessTokenExpired:f,accessTokenRefreshUrl:g}=e,h=ec(),m=(0,T.Z)("authentication"),p=(0,T.Z)("bookmarking"),b=(0,T.Z)("follow-brand-function"),k=(0,T.Z)("comments"),{fallback:x}=(0,l.kY)(),{authInfo:w}=x,{signOutUrl:_,statusUrl:P,signInUrl:S,registerUrl:y}=w,N=h[i],[j]=Object.values(u),{isSponsored:C,id:E}=j,{contentId:z}=null!=r?r:{},A=(null==n?void 0:n.promoHeadline)||"",R=(null==n?void 0:null===(t=n.options)||void 0===t?void 0:t.allowAdvertising)||!0,q={type:i||Z.zc.Article,subtype:o,pageTitle:A,isUkHeader:s,isSponsored:!!C,os:d,browser:c,urn:z||E||null,allowAdvertising:R,id:E};return N?(0,a.jsx)(l.J$,{value:{fallback:u},children:(0,a.jsx)(ed.Z,{value:{isAuthenticated:v,isAuthEnabled:m,isBookmarkingEnabled:p,isFollowBrandEnabled:b,isCommentsEnabled:k,signInUrl:S,signOutUrl:_,registerUrl:y,statusUrl:P,isAccessTokenExpired:f,accessTokenRefreshUrl:g},children:(0,a.jsx)(ev.Z,{value:q,children:(0,a.jsx)(N,{})})})}):null};var eg=!0,eh=(0,n.memo)(ef)}},function(e){e.O(0,[640,569,774,888,179],function(){return e(e.s=19335)}),_N_E=e.O()}]);